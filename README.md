# tg_folder_manager
Скрипт для управления папками в телеграм. Позволяет задать паттерн для фильтрации и добавления групп в нужную папку.

# Как зарегистрировать своё приложение Telegram и получить API ID и API Hash

Для работы с Telegram API через библиотеки вроде Telethon потребуется установить собственное приложение в системе Telegram. Это даст вам два ключа доступа: **API ID** и **API Hash**. Следуйте инструкции:

1. Откройте браузер и перейдите на сайт для разработчиков Telegram
https://my.telegram.org
2. Авторизуйтесь под своим номером телефона
– Введите номер телефона, на который зарегистрирован ваш аккаунт.
– Подтвердите вход кодом из Telegram.
3. Перейдите в раздел “API Development Tools”
– На главной странице после входа нажмите кнопку **API Development Tools**.
4. Создайте новое приложение
– В поле **App title** укажите название вашего приложения (например, `MyTGFolderManager`).
– В поле **Short name** задайте короткое уникальное имя (например, `folder_manager`).
– Поля **URL**, **Platform** и **Description** можно заполнить произвольно (или оставить пустыми, если необязательно).
– Нажмите кнопку **Create application**.
5. Сохраните **API ID** и **API Hash**
– После создания вы увидите страницу с двумя значениями: **API ID** (целое число) и **API Hash** (строка).
– Скопируйте их и сохраните в надёжном месте.
6. Добавьте ключи в `.env` файл проекта
В корневой папке вашего проекта создайте файл `.env` со следующим содержимым:

```dotenv
app_api_id=ВАШ_API_ID
app_api_hash=ВАШ_API_HASH
app_title=имя_вашей_сессии  # необязательно, по умолчанию используется 'telegram_session'
```

7. Убедитесь, что файл `.env` загружается в коде
В начале вашего `tg_folder_manager.py` должен быть импорт и загрузка переменных:

```python
from dotenv import load_dotenv
load_dotenv()
```
8. Запишите ваши правила фильтрации групп в файл config.yuml
```yaml
folders:
  folder1:
    include_patterns:
      - str pattern
    exclude_patterns:
      - str pattern
  folder2:
    include_patterns:
      - str pattern
      - str2 pattern
    exclude_patterns: []
```
9. Запустите скрипт
После этого вы сможете запускать ваше приложение, и Telethon автоматически подхватит `API ID` и `API Hash` из `.env`.
```bash
python3 -m tg_folder_manager
```

