[English](README-en.md) | [–†—É—Å—Å–∫–∏–π](README.md)
# Telegram Folder Manager

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–ø–∫–∞–º–∏ (folders) Telegram. –°–∫—Ä–∏–ø—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —á–∞—Ç—ã –∏ –∫–∞–Ω–∞–ª—ã –ø–æ –ø–∞–ø–∫–∞–º, –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ —à–∞–±–ª–æ–Ω–∞—Ö –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è—Ö, –∞ —Ç–∞–∫–∂–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫ –≤ YAML —Ñ–∞–π–ª —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–µ–∂–∏–º–∞ dry-run.

---

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —á–∞—Ç–æ–≤ –ø–æ –ø–∞–ø–∫–∞–º –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏—Å–∫–ª—é—á–∞—é—â–∏—Ö —à–∞–±–ª–æ–Ω–æ–≤ –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞–ø–∫–∏ ‚Äî –æ–¥–∏–Ω —á–∞—Ç —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–π –ø–∞–ø–∫–µ
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –¥—Ä—É–≥–∏—Ö –ø–∞–ø–æ–∫ –ø—Ä–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–∏
- ‚úÖ –†–µ–∂–∏–º dry-run ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –±–µ–∑ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏—Ö –∫ Telegram
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–ø–æ–∫ –∏ —Å–ø–∏—Å–∫–∞ –≥—Ä—É–ø–ø –≤ YAML —Ñ–∞–π–ª
- ‚úÖ –ü–æ–¥—Å—á—ë—Ç –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≥—Ä—É–ø–ø –≤ –∫–∞–∂–¥–æ–π –ø–∞–ø–∫–µ
- ‚úÖ –ì–∏–±–∫–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–µ—Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö —á–∞—Ç–æ–≤
- ‚úÖ –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ (—á–∞—Ç–æ–≤ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–∞–ø–∫–∞—Ö)
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π –∏ –ø—Ä–æ—Å—Ç—ã—Ö –ø–æ–¥—Å—Ç—Ä–æ–∫
- ‚úÖ –†–∞–±–æ—Ç–∞ –∫–∞–∫ –º–æ–¥—É–ª—å Python

---

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.12+
- –ê–∫–∫–∞—É–Ω—Ç Telegram
- API ID –∏ API Hash –∏–∑ https://my.telegram.org

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**

   ```

   git clone https://github.com/sky1su/tg_folder_manager.git
   cd tg_folder_manager
   ```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**

   ```
   pip install telethon python-dotenv PyYAML
   ```

   –ò–ª–∏ —Å `requirements.txt`:

   ```
   pip install -r requirements.txt
   ```

3. **–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:**

   ```
   app_api_id=–í–ê–®_API_ID
   app_api_hash=–í–ê–®_API_HASH
   app_title=telegram_session
   ```

---

## –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞ Telegram

### –ü–æ–ª—É—á–µ–Ω–∏–µ API ID –∏ API Hash

1. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ  
   [https://my.telegram.org](https://my.telegram.org)

2. –í–æ–π–¥–∏—Ç–µ —Å –ø–æ–º–æ—â—å—é —Å–≤–æ–µ–≥–æ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞  
   - –í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞  
   - –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –≤—Ö–æ–¥ –∫–æ–¥–æ–º –∏–∑ Telegram

3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **API Development Tools**

4. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
   - **App title:** –ª—é–±–æ–µ –∏–º—è, –Ω–∞–ø—Ä–∏–º–µ—Ä `TG Folder Manager`
   - **Short name:** –∫–æ—Ä–æ—Ç–∫–æ–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è, –Ω–∞–ø—Ä–∏–º–µ—Ä `tgfolder`
   - –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –º–æ–∂–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ

5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—ã–¥–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
   - **API ID**
   - **API Hash**

6. –î–æ–±–∞–≤—å—Ç–µ –∏—Ö –≤ —Ñ–∞–π–ª `.env` –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –≠—Ç–∏ –∫–ª—é—á–∏ –¥–∞—é—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –≤–∞—à–µ–º—É –∞–∫–∫–∞—É–Ω—Ç—É. –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ –∏—Ö –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –¥–æ—Å—Ç—É–ø–µ!

---

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `config.yaml` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```yaml
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏
settings:
    dry_run: false                          # –í–∫–ª—é—á–∏—Ç—å —Å—É—Ö–æ–π –∑–∞–ø—É—Å–∫ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ Telegram)
    export_enabled: true                    # –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç –≤ YAML
    export_filename: folders_export.yaml    # –ò–º—è —Ñ–∞–π–ª–∞ –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞

# –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–∞–ø–æ–∫
folders:
  –†–∞–±–æ—Ç–∞:
    include_patterns:
      - work
      - –ø—Ä–æ–µ–∫—Ç
      - —Ä–∞–±–æ—Ç–∞
    exclude_patterns:
      - —Ç–µ—Å—Ç
      - demo

  –ö—Ä–∏–ø—Ç–æ:
    include_patterns:
      - bitcoin
      - ethereum
      - –∫—Ä–∏–ø—Ç–æ
    exclude_patterns:
      - testnet
      - —Ç–µ—Å—Ç

  Dev:
    include_patterns:
      - python
      - django
      - fastapi
    exclude_patterns:
      - —Å—Ç–∞—Ä–æ–µ
      - –∞—Ä—Ö–∏–≤
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

#### –°–µ–∫—Ü–∏—è `settings`

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------|---------|
| `dry_run` | boolean | `false` | –í–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º —Å—É—Ö–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ (–±–µ–∑ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫ Telegram) |
| `export_enabled` | boolean | `false` | –í–∫–ª—é—á–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–ø–æ–∫ –≤ YAML —Ñ–∞–π–ª |
| `export_filename` | string | `folders_export.yaml` | –ò–º—è —Ñ–∞–π–ª–∞ –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ |

#### –°–µ–∫—Ü–∏—è `folders`

–î–ª—è –∫–∞–∂–¥–æ–π –ø–∞–ø–∫–∏:
- **include_patterns**: —Å–ø–∏—Å–æ–∫ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ (regex –∏–ª–∏ –ø–æ–¥—Å—Ç—Ä–æ–∫–∏) –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è —á–∞—Ç–∞ –≤ –ø–∞–ø–∫—É
- **exclude_patterns**: —Å–ø–∏—Å–æ–∫ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∏—Å–∫–ª—é—á–µ–Ω–∏–π ‚Äî –µ—Å–ª–∏ —á–∞—Ç —Å–æ–≤–ø–∞–¥–∞–µ—Ç, –æ–Ω –ù–ï –ø–æ–ø–∞–¥—ë—Ç –≤ —ç—Ç—É –ø–∞–ø–∫—É

---

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –û–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º

```
python3 -m tg_folder_manage
```

–°–∫—Ä–∏–ø—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ Telegram –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ–≥–ª–∞—Å–Ω–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

### –†–µ–∂–∏–º dry-run (–ø—Ä–æ–±–Ω—ã–π –∑–∞–ø—É—Å–∫)

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –±–µ–∑ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏—Ö –∫ Telegram —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤ `config.yaml`:

```
settings:
  dry_run: true
```

–ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```
python3 -m tg_folder_manage
```

–í —ç—Ç–æ–º —Ä–µ–∂–∏–º–µ:
- ‚úÖ –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –∏ –ø–æ–º–µ—á–µ–Ω—ã `[DRY RUN]`
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –≤ YAML –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è (—Å –ø–æ–º–µ—Ç–∫–æ–π `dry_run: true`)
- ‚úÖ **–ù–∏–∫–∞–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ Telegram**
- ‚úÖ –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, –∫–∞–∫–∏–µ –ø–∞–ø–∫–∏ –±—ã–ª–∏ –±—ã —Å–æ–∑–¥–∞–Ω—ã/–æ–±–Ω–æ–≤–ª–µ–Ω—ã

### –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ Telethon –∑–∞–ø—Ä–æ—Å–∏—Ç:
1. –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
2. –ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏–∑ Telegram
3. –î–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω)

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ñ–∞–π–ª —Å–µ—Å—Å–∏–∏, –∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –≤–≤–æ–¥ –Ω–µ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è.

---

## –†–µ–∂–∏–º Dry-Run (–ø—Ä–æ–±–Ω—ã–π –∑–∞–ø—É—Å–∫)

Dry-run —Ä–µ–∂–∏–º –∏–¥–µ–∞–ª–µ–Ω –¥–ª—è:
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–∞–ø–æ–∫

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ –≤ —Ä–µ–∂–∏–º–µ dry-run:

```
2025-10-23 14:37:00 - WARNING - ‚ö†Ô∏è DRY RUN MODE ENABLED - –ù–∏–∫–∞–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –±—É–¥—É—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∫ Telegram
2025-10-23 14:37:01 - INFO - üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–∞–ø–æ–∫ –ü–ï–†–ï–î –æ–±—Ä–∞–±–æ—Ç–∫–æ–π:
2025-10-23 14:37:01 - INFO -    üìÅ –†–∞–±–æ—Ç–∞: 5 –≥—Ä—É–ø–ø/–∫–∞–Ω–∞–ª–æ–≤
2025-10-23 14:37:01 - INFO -    üìÅ –ö—Ä–∏–ø—Ç–æ: 12 –≥—Ä—É–ø–ø/–∫–∞–Ω–∞–ª–æ–≤
2025-10-23 14:37:01 - INFO -    üìÅ Dev: 8 –≥—Ä—É–ø–ø/–∫–∞–Ω–∞–ª–æ–≤
2025-10-23 14:37:02 - INFO - ‚úö [DRY RUN] Would create folder "–†–∞–±–æ—Ç–∞" (ID=3, 7 chats)
2025-10-23 14:37:03 - INFO - ‚úé [DRY RUN] Would update folder "–ö—Ä–∏–ø—Ç–æ" (12 chats)
2025-10-23 14:37:04 - INFO - ‚àí [DRY RUN] Would remove 2 chat(s) from "Dev" after moving to "–†–∞–±–æ—Ç–∞"
2025-10-23 14:37:05 - INFO - üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–∞–ø–æ–∫ –ü–û–°–õ–ï –æ–±—Ä–∞–±–æ—Ç–∫–∏:
2025-10-23 14:37:05 - INFO -    üìÅ –†–∞–±–æ—Ç–∞: 7 –≥—Ä—É–ø–ø/–∫–∞–Ω–∞–ª–æ–≤
2025-10-23 14:37:05 - INFO -    üìÅ –ö—Ä–∏–ø—Ç–æ: 12 –≥—Ä—É–ø–ø/–∫–∞–Ω–∞–ª–æ–≤
2025-10-23 14:37:05 - INFO -    üìÅ Dev: 6 –≥—Ä—É–ø–ø/–∫–∞–Ω–∞–ª–æ–≤
2025-10-23 14:37:06 - INFO - üì§ [DRY RUN] –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ 3 –ø–∞–ø–æ–∫ –≤ —Ñ–∞–π–ª "folders_export.yaml"
```

–ó–∞–º–µ—Ç—å—Ç–µ, —á—Ç–æ –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ–º–µ—á–µ–Ω—ã `[DRY RUN]` –∏ –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è —Å–ª–æ–≤–æ–º `Would` (–±—ã–ª–æ –±—ã).

---

## –≠–∫—Å–ø–æ—Ä—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–ø–æ–∫

–ü—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ (`export_enabled: true`) –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–∞–ø–æ–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è YAML —Ñ–∞–π–ª —Å —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –ø–∞–ø–æ–∫.

### –ü—Ä–∏–º–µ—Ä —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞:

```
export_date: '2025-10-23T14:37:00.123456'
dry_run: false
folders:
  –†–∞–±–æ—Ç–∞:
    folder_id: 2
    chats_count: 5
    chats:
    - id: 123456789
      title: –†–∞–±–æ—Ç–∞ Project Alpha
      type: megagroup
    - id: 987654321
      title: –ö–æ–º–∞–Ω–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
      type: group
  
  –ö—Ä–∏–ø—Ç–æ:
    folder_id: 3
    chats_count: 12
    chats:
    - id: 111222333
      title: Bitcoin –û–±—Å—É–∂–¥–µ–Ω–∏—è
      type: megagroup
    - id: 444555666
      title: Ethereum –ù–æ–≤–æ—Å—Ç–∏
      type: channel
```

### –ü–æ–ª—è –≤ —ç–∫—Å–ø–æ—Ä—Ç–µ:
- `export_date`: –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ ISO —Ñ–æ—Ä–º–∞—Ç–µ
- `dry_run`: –±—ã–ª –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω —Ä–µ–∂–∏–º —Å—É—Ö–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
- `folders`: —Å–ª–æ–≤–∞—Ä—å –ø–∞–ø–æ–∫ —Å –∏—Ö —Å–æ–¥–µ—Ä–∂–∏–º—ã–º
  - `folder_id`: ID –ø–∞–ø–∫–∏ –≤ Telegram
  - `chats_count`: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Ç–æ–≤ –≤ –ø–∞–ø–∫–µ
  - `chats`: —Å–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤ —Å ID, –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∏ —Ç–∏–ø–æ–º

### –¢–∏–ø—ã —á–∞—Ç–æ–≤ –≤ —ç–∫—Å–ø–æ—Ä—Ç–µ:
- `group` ‚Äî –æ–±—ã—á–Ω–∞—è –≥—Ä—É–ø–ø–∞
- `megagroup` ‚Äî —Å—É–ø–µ—Ä–≥—Ä—É–ø–ø–∞
- `channel` ‚Äî –∫–∞–Ω–∞–ª

---

## –†–∞–±–æ—Ç–∞ —Å –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏

### –ü—Ä–æ—Å—Ç—ã–µ –ø–æ–¥—Å—Ç—Ä–æ–∫–∏
```
include_patterns:
  - python
  - django
```

### –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
```
include_patterns:
  - ^work.*project$  # –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å "work" –∏ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ "project"
  - \d{4}            # –°–æ–¥–µ—Ä–∂–∏—Ç 4 —Ü–∏—Ñ—Ä—ã –ø–æ–¥—Ä—è–¥
  - (dev|dev-team)   # –°–æ–¥–µ—Ä–∂–∏—Ç "dev" –∏–ª–∏ "dev-team"
```

### –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–æ–≤

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏—Å–∫–∞—Ç—å —Ç–æ—á–∫—É –∏–ª–∏ –¥—Ä—É–≥–æ–π —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª regex, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–±—Ä–∞—Ç–Ω—ã–π —Å–ª—ç—à:

```
include_patterns:
  - –¥\.—Ä\.           # –ò—â–µ—Ç –∏–º–µ–Ω–Ω–æ "–¥.—Ä.", –∞ –Ω–µ "–¥" + –ª—é–±–æ–π —Å–∏–º–≤–æ–ª + "—Ä"
```

–ë–µ–∑ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è `–¥.—Ä.` —Å–æ–≤–ø–∞–¥—ë—Ç —Å "–ª–∏–¥–µ—Ä", "–¥–∞—Ä" –∏ —Ç.–¥.

### –ò—Å–∫–ª—é—á–µ–Ω–∏—è
```
exclude_patterns:
  - test
  - demo
  - –∞—Ä—Ö–∏–≤
```

---

## –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–µ—Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö —á–∞—Ç–æ–≤

–í –∫–æ–¥–µ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –¥–ª—è —á–∞—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø–æ–¥–æ—à–ª–∏ –Ω–∏ –ø–æ–¥ –æ–¥–∏–Ω –ø–∞—Ç—Ç–µ—Ä–Ω:

```
UnmatchedChatsStrategy.IGNORE            # –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
UnmatchedChatsStrategy.MOVE_TO_FOLDER    # –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤ –ø–∞–ø–∫—É "–ü—Ä–æ—á–∏–µ"
UnmatchedChatsStrategy.LOG_ONLY          # –¢–æ–ª—å–∫–æ –≤—ã–≤–µ—Å—Ç–∏ –≤ –ª–æ–≥
UnmatchedChatsStrategy.REMOVE_FROM_FOLDERS # –£–¥–∞–ª–∏—Ç—å –∏–∑ –≤—Å–µ—Ö –ø–∞–ø–æ–∫
```

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ `__main__.py`:

```
async with TelegramFolderManager(
    unmatched_strategy=UnmatchedChatsStrategy.MOVE_TO_FOLDER,
    warn_on_duplicates=True
) as manager:
    await manager.organize_chats_by_config(config_path=config_path)
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
tg_folder_manager/
‚îú‚îÄ‚îÄ tg_folder_manage/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ __main__.py
‚îÇ   ‚îî‚îÄ‚îÄ tg_folder_manager.py
‚îú‚îÄ‚îÄ config.yaml
‚îú‚îÄ‚îÄ .env
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ README.md
‚îî‚îÄ‚îÄ folders_export.yaml          # —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ
```

---

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–∫—Ä–∏–ø—Ç –≤—ã–≤–æ–¥–∏—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ —Å —ç–º–æ–¥–∑–∏ –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏:

- ‚úî –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ
- ‚úö –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ø–æ–∫
- ‚úé –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞–ø–æ–∫
- ‚àí –£–¥–∞–ª–µ–Ω–∏–µ —á–∞—Ç–æ–≤
- ‚ö† –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–∞–ø–æ–∫
- üì§ –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
- [DRY RUN] –û–ø–µ—Ä–∞—Ü–∏–∏ –≤ —Ä–µ–∂–∏–º–µ dry-run

### –ü—Ä–∏–º–µ—Ä –Ω–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞:

```
2025-10-23 14:37:00 - INFO - ‚úî Connected to Telegram
2025-10-23 14:37:01 - INFO - üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–∞–ø–æ–∫ –ü–ï–†–ï–î –æ–±—Ä–∞–±–æ—Ç–∫–æ–π:
2025-10-23 14:37:01 - INFO -    üìÅ –†–∞–±–æ—Ç–∞: 5 –≥—Ä—É–ø–ø/–∫–∞–Ω–∞–ª–æ–≤
2025-10-23 14:37:02 - INFO - ‚úé Updated folder "–†–∞–±–æ—Ç–∞" (7 chats)
2025-10-23 14:37:03 - INFO - ‚àí Removed 2 chat(s) from "Dev" after moving to "–†–∞–±–æ—Ç–∞"
2025-10-23 14:37:04 - INFO - üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–∞–ø–æ–∫ –ü–û–°–õ–ï –æ–±—Ä–∞–±–æ—Ç–∫–∏:
2025-10-23 14:37:04 - INFO -    üìÅ –†–∞–±–æ—Ç–∞: 7 –≥—Ä—É–ø–ø/–∫–∞–Ω–∞–ª–æ–≤
2025-10-23 14:37:05 - INFO - üì§ –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ 3 –ø–∞–ø–æ–∫ –≤ —Ñ–∞–π–ª "folders_export.yaml"
2025-10-23 14:37:06 - INFO - ‚úî Disconnected from Telegram
```

---

## –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π workflow

1. **–°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é** –≤ `config.yaml`
2. **–í–∫–ª—é—á–∏—Ç—å dry-run —Ä–µ–∂–∏–º**: `dry_run: true`
3. **–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç**: `python3 -m tg_folder_manage`
4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏** ‚Äî —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –æ–∂–∏–¥–∞–Ω–∏—è–º
5. **–í—ã–∫–ª—é—á–∏—Ç—å dry-run**: `dry_run: false`
6. **–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç —Å–Ω–æ–≤–∞** ‚Äî –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

---

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û—à–∏–±–∫–∞ "API credentials not set"
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª `.env` —Å–æ–∑–¥–∞–Ω –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è `app_api_id` –∏ `app_api_hash`.

### –û—à–∏–±–∫–∞ "FileNotFoundError: config.yaml"
–§–∞–π–ª `config.yaml` –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–∞ —Ç–æ–º –∂–µ —É—Ä–æ–≤–Ω–µ, —á—Ç–æ –∏ –ø–∞–ø–∫–∞ `tg_folder_manage`).

### –õ–æ–≥–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `__main__.py` –Ω–∞—Å—Ç—Ä–æ–µ–Ω `logging.basicConfig()` –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º `asyncio.run()`.

### –ß–∞—Ç—ã –Ω–µ –ø–µ—Ä–µ–º–µ—â–∞—é—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –≤ `config.yaml`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏—è —á–∞—Ç–æ–≤ —Å–æ–≤–ø–∞–¥–∞—é—Ç (—Ä–µ–≥–∏—Å—Ç—Ä –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `exclude_patterns` ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ, —á–∞—Ç –∏—Å–∫–ª—é—á–∞–µ—Ç—Å—è
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `dry_run: true` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –ü–∞—Ç—Ç–µ—Ä–Ω —Å —Ç–æ—á–∫–æ–π —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
–ï—Å–ª–∏ –ø–∞—Ç—Ç–µ—Ä–Ω `–¥.—Ä.` —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å "–ª–∏–¥–µ—Ä", —ç–∫—Ä–∞–Ω–∏—Ä—É–π—Ç–µ —Ç–æ—á–∫–∏: `–¥\.—Ä\.`

### –≠–∫—Å–ø–æ—Ä—Ç –Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ `config.yaml` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ `export_enabled: true`

### –†–µ–∂–∏–º dry-run –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `dry_run: true` —É–∫–∞–∑–∞–Ω –≤ `settings` –≤ —Ñ–∞–π–ª–µ `config.yaml`, –∞ –Ω–µ –≥–¥–µ-—Ç–æ –µ—â—ë

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚ö†Ô∏è –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ —Ñ–∞–π–ª `.env` —Å API –∫–ª—é—á–∞–º–∏
- ‚ö†Ô∏è –î–æ–±–∞–≤—å—Ç–µ `.env` –∏ `*.session` –≤ `.gitignore`
- ‚ö†Ô∏è API –∫–ª—é—á–∏ –¥–∞—é—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –≤–∞—à–µ–º—É –∞–∫–∫–∞—É–Ω—Ç—É Telegram
- ‚ö†Ô∏è –§–∞–π–ª —ç–∫—Å–ø–æ—Ä—Ç–∞ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–∞—à–∏—Ö —á–∞—Ç–∞—Ö

### –ü—Ä–∏–º–µ—Ä .gitignore:

```
.env
*.session
*.session-journal
folders_export.yaml
__pycache__/
*.pyc
.DS_Store
.venv/
venv/
```

---

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

---

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã, —Å–æ–∑–¥–∞–π—Ç–µ Issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.

---

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º [Telethon](https://github.com/LonamiWebs/Telethon), [python-dotenv](https://github.com/theskumar/python-dotenv) –∏ [PyYAML](https://github.com/yaml/pyyaml)